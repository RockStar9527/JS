# `Node.JS` 

## ä¸€ã€`Node.JS`æ¦‚è¿°

### 1.1ã€ç›®æ ‡

å‰ç«¯å¼€å‘äººå‘˜ ï¼šå°†é¡µé¢ä»¥æ›´åŠ åˆç†å‹å¥½çš„å½¢å¼å±•ç°ç»™ç”¨æˆ·ã€‚éœ€è¦è°ƒç”¨åç«¯å¼€å‘äººå‘˜æä¾›çš„æ¥å£ã€‚

åç«¯å¼€å‘äººå‘˜ï¼šæä¾›æ•°æ®æ¥å£ï¼Œä¾›å‰ç«¯è°ƒç”¨ã€‚æ¥å£çš„ä½œç”¨æ˜¯å¯¹æ•°æ®åº“è¿›è¡ŒåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚

æ•°æ®åº“ï¼šdba.

æœåŠ¡å™¨ï¼šç”µè„‘ã€‚ä¸€å°æœåŠ¡å™¨å¯ä»¥æä¾›è‹¥å¹²ç§æœåŠ¡ï¼Œç«™ç‚¹æœåŠ¡åªæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚

â€‹	http://www.baidu.com: åŸŸåè¿›è¡Œè§£æã€‚

ç«¯å£å·ï¼šhttp://www.baidu.com:9080/home.html

```shell
åŸŸå==ã€‹IP==>æœåŠ¡å™¨==ã€‹ç«¯å£å·==ã€‹æœåŠ¡ï¼ˆç«™ç‚¹æœåŠ¡ï¼‰
	ç”ŸæˆæœåŠ¡æµç¨‹ï¼š
		1ã€å¼€å‘äººå‘˜å°†é¡¹ç›®å¼€å‘å®Œæ¯•ä¹‹åï¼Œä¼šå°†é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼Œç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚
		2ã€å°†é¡¹ç›®ç”Ÿæˆçš„æ–‡ä»¶å¤¹æ”¾ç½®åœ¨æœåŠ¡å™¨ã€‚
		3ã€åˆ›å»ºä¸€ä¸ªç«™ç‚¹æœåŠ¡ï¼šæŒ‡å®šé¡¹ç›®æ–‡ä»¶å¤¹ã€‚ æŒ‡å®šç«¯å£å·ã€‚ 
			httpè¯·æ±‚ï¼Œç«¯å£å·é»˜è®¤æ˜¯80ï¼Œhttpsè®¿é—® ï¼Œç«¯å£å·é»˜è®¤æ˜¯443.
			å¯ä»¥é€‰æ‹©é€šè¿‡NODE.JSæ¥åˆ›å»ºç«™ç‚¹æœåŠ¡ã€‚ NODEæ˜¯ä¸€ä¸ªè¿è¡ŒJAVASCRIPTçš„ç¯å¢ƒï¼Œå¯ä»¥åˆ›å»ºç«™ç‚¹ï¼Œæ“ä½œæ–‡ä»¶ã€‚ä¸­é—´å±‚æœåŠ¡ã€‚åå‘ä»£ç†ã€‚ 

å¼€å‘æ¨¡å¼ï¼š
	1ã€å‰åç«¯æ··åˆæ¨¡å¼ï¼šphp java c# 
		è¾“å…¥ç½‘å€-ã€‹é”å®šæ–‡ä»¶-ã€‹æ–‡ä»¶ç›´æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ-ã€‹å°†æ•°æ®åº“çš„å†…å®¹ç”Ÿæˆé¡µé¢--ã€‹å“åº”ç»™æµè§ˆå™¨-ã€‹æ¸²æŸ“ã€‚
	2ã€å‰åç«¯åˆ†ç¦»
		å‰ç«¯é¡¹ç›®
		åç«¯é¡¹ç›®
```

> * å¯ä»¥å’Œåç«¯å¼€å‘äººå‘˜è¿›è¡Œæœ‰æ•ˆæ²Ÿé€šã€‚
>
>   ```shell
>   # åç«¯äººå‘˜æä¾›æ¥å£ï¼Œå‰ç«¯è°ƒç”¨æ¥å£ã€‚å­¦å®ŒNODE.jsä¹‹åï¼Œä½ ä¸ä»…å¯ä»¥è°ƒç”¨æ¥å£ï¼Œè¿˜ä¼šè‡ªå·±ç”Ÿæˆæ¥å£ã€‚
>   # å‰ç«¯æ˜¯æ— æ³•ç›´æ¥æ“ä½œæ•°æ®åº“ã€‚æ‰€ä»¥éœ€è¦å€ŸåŠ©æœåŠ¡ç«¯æä¾›æ¥å£ï¼Œé€šè¿‡æ¥å£æ“ä½œæ•°æ®åº“ã€‚
>   ```
>
> * å¯ä»¥å¿«é€Ÿå¼€å‘å…¨æ ˆåº”ç”¨ï¼ŒåŠ å¼ºå¯¹é¡¹ç›®çš„æ•´ä½“è®¤çŸ¥ã€‚
>
>   ```shell
>   # è‡ªå·±åˆ›å»ºç«™ç‚¹
>   # è‡ªå·±æä¾›APIæœåŠ¡ã€‚
>   # è‡ªå·±è°ƒç”¨APIæœåŠ¡ã€‚
>   ```

### 1.2ã€`Node.js`æ˜¯ä»€ä¹ˆ

> * `Node.js` æ˜¯ä¸€ä¸ªåŸºäº `Chrome V8` å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚`Node.js`ä¸æ˜¯ä¸€ç§ç‹¬ç«‹è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥è®©JavaScriptåœ¨æœåŠ¡å™¨ç«¯è¿è¡Œçš„å¹³å°ã€‚  
>
>   ```shell
>   # js ä¹‹å‰æ˜¯åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚å­¦ä¹ å®ŒNode.jsä¹‹åï¼ŒJSä¹Ÿå¯ä»¥åœ¨NODEç¯å¢ƒå½“ä¸­è¿è¡Œ
>   # Node.jsä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯è¿è¡Œç¯å¢ƒã€‚Node.jsä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯è¿è¡Œç¯å¢ƒã€‚Node.jsä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯è¿è¡Œç¯å¢ƒã€‚
>   ```
>
> * ç®€å•æ¥è®²ï¼Œ`Node.js`å°±æ˜¯ä¸€ä¸ªä½¿ç”¨JavaScriptå†™æœåŠ¡å™¨çš„ä»£ç ç¯å¢ƒã€‚ 
>
>   ```shell
>   # å¯ä»¥é€šè¿‡NODE.JSæä¾›ç«™ç‚¹æœåŠ¡ã€‚ ï¼ˆ
>   # 1ã€å¼€å‘äººå‘˜å¯ä»¥è´­ä¹°ä¸€å°æœåŠ¡å™¨ï¼Œ
>   # 2ã€åœ¨æœåŠ¡å™¨å½“ä¸­å®‰è£…Node.js,
>   # 3ã€ç„¶ååœ¨æœåŠ¡ä¸Šæ”¾ç½®ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ
>   # 4ã€æ–‡ä»¶å¤¹å†…æ”¾ç½®ä¸€ä¸ªindex.htm
>   # 5ã€æ ¹æ®æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªç«™ç‚¹ï¼ŒæŒ‡å®šç«¯å£å·
>   # 6ã€è¿œåœ¨ä»–ä¹¡çš„å¥¹ï¼ˆä»–ï¼‰å°±å¯ä»¥æµè§ˆè¯¥ç½‘é¡µã€‚ï¼‰
>   ```
>
> * `Node.js`çš„ç‰¹æ€§å…¶å®å°±æ˜¯JavaScriptçš„ç‰¹æ€§
>
>   - å¼‚æ­¥éé˜»å¡çš„I/O
>
>   ```shell
>   # å¼‚æ­¥ä¸åŒæ­¥
>   # I/0 :input/output (è¾“å…¥è¾“å‡º)ã€‚ æ¯”å¦‚å¯¹æ–‡ä»¶è¯»å†™
>   const fs = require("fs");
>   fs.readFile(__dirname+"/1-å¼‚æ­¥ä¸åŒæ­¥çš„é—®é¢˜.html",function (err,result) {
>       console.log(1111111111,result.toString());
>   })
>   console.log(222222222);
>   ```
>
>   - äº‹ä»¶é©±åŠ¨
>
>   ```shell
>   # å½“ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªç½‘ç«™åœ°å€ï¼Œå¦‚æœç«™ç‚¹æ˜¯é€šè¿‡PHP.JAVA.C#,æœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªè¿æ¥æ± ã€‚æ¯åˆ›å»ºä¸€ä¸ªè¿æ¥æ± éœ€è¦èŠ±è´¹2Må†…å­˜ã€‚å¦‚æœå†…å­˜æ˜¯8ä¸ªGï¼Œç†è®ºä¸Šè€Œè¨€ï¼ŒåŒæ—¶æ”¯æŒ4000ä¸ªè®¿é—®è€…ã€‚
>   # node:å½“ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªç½‘å€ï¼Œä¼šåˆ›å»ºä¸€ä¸ªäº‹ä»¶ï¼Œé€šè¿‡äº‹ä»¶æ‰§è¡Œç›¸å¯¹åº”çš„æœåŠ¡ã€‚
>   ```
>
> * `Node.js`å†å² â€” ä¸ºæ€§èƒ½â½½ç”Ÿ å¹¶å‘å¤„ç†
>
>   >  Ryan Dahl,ä»–çš„å·¥ä½œæ˜¯ç”¨C/C++å†™é«˜æ€§èƒ½WebæœåŠ¡ã€‚å¯¹äºé«˜æ€§èƒ½ï¼Œå¼‚æ­¥IOã€äº‹ä»¶é©±åŠ¨æ˜¯åŸºæœ¬åŸåˆ™ï¼Œä½†æ˜¯ç”¨C/C++å†™å°±å¤ªç—›è‹¦äº†ã€‚äºæ˜¯è¿™ä½ä»å…„å¼€å§‹è®¾æƒ³ç”¨é«˜çº§è¯­è¨€å¼€å‘WebæœåŠ¡ã€‚ä»–è¯„ä¼°äº†å¾ˆå¤šç§é«˜çº§è¯­è¨€ï¼Œå‘ç°å¾ˆå¤šè¯­è¨€è™½ç„¶åŒæ—¶æä¾›äº†åŒæ­¥IOå’Œå¼‚æ­¥IOï¼Œä½†æ˜¯å¼€å‘äººå‘˜ä¸€æ—¦ç”¨äº†åŒæ­¥IOï¼Œä»–ä»¬å°±å†ä¹Ÿæ‡’å¾—å†™å¼‚æ­¥IOäº†ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆï¼ŒRyanç„å‘äº†JavaScriptã€‚
>   >
>   >  å› ä¸ºJavaScriptæ˜¯å•çº¿ç¨‹æ‰§è¡Œï¼Œæ ¹æœ¬ä¸èƒ½è¿›è¡ŒåŒæ­¥IOæ“ä½œï¼Œæ‰€ä»¥ï¼ŒJavaScriptçš„è¿™ä¸€â€œç¼ºé™·â€å¯¼è‡´äº†å®ƒåªèƒ½ä½¿ç”¨å¼‚æ­¥IOã€‚
>   >
>   >  é€‰å®šäº†å¼€å‘è¯­è¨€ï¼Œè¿˜è¦æœ‰è¿è¡Œæ—¶å¼•æ“ã€‚è¿™ä½ä»å…„æ›¾è€ƒè™‘è¿‡è‡ªå·±å†™ä¸€ä¸ªï¼Œä¸è¿‡æ˜æ™ºåœ°æ”¾å¼ƒäº†ï¼Œå› ä¸º`V8`å°±æ˜¯å¼€æºçš„JavaScriptå¼•æ“ã€‚è®©GoogleæŠ•èµ„å»ä¼˜åŒ–`V8`ï¼Œå’±åªè´Ÿè´£æ”¹é€ ä¸€ä¸‹æ‹¿æ¥ç”¨ï¼Œè¿˜ä¸ç”¨ä»˜é’±ï¼Œè¿™ä¸ªä¹°å–å¾ˆåˆ’ç®—ã€‚
>   >
>   >  äºæ˜¯åœ¨2009å¹´ï¼ŒRyanæ­£å¼æ¨å‡ºäº†åŸºäºJavaScriptè¯­è¨€å’Œ`V8`å¼•æ“çš„å¼€æºWebæœåŠ¡å™¨é¡¹ç›®ï¼Œå‘½åä¸º`Node.js`ã€‚è™½ç„¶åå­—å¾ˆåœŸï¼Œä½†æ˜¯ï¼ŒNodeç¬¬ä¸€æ¬¡æŠŠJavaScriptå¸¦å…¥åˆ°åç«¯æœåŠ¡å™¨å¼€å‘ï¼ŒåŠ ä¸Šä¸–ç•Œä¸Šå·²ç»æœ‰æ— æ•°çš„JavaScriptå¼€å‘äººå‘˜ï¼Œæ‰€ä»¥Nodeä¸€ä¸‹å­å°±ç«äº†èµ·æ¥ã€‚
>   >
>   >  åœ¨Nodeä¸Šè¿è¡Œçš„JavaScriptç›¸æ¯”å…¶ä»–åç«¯å¼€å‘è¯­è¨€æœ‰ä½•ä¼˜åŠ¿ï¼Ÿ
>   >
>   >  æœ€å¤§çš„ä¼˜åŠ¿æ˜¯å€ŸåŠ©JavaScriptå¤©ç”Ÿçš„äº‹ä»¶é©±åŠ¨æœºåˆ¶åŠ `V8`é«˜æ€§èƒ½å¼•æ“ï¼Œä½¿ç¼–å†™é«˜æ€§èƒ½WebæœåŠ¡è½»è€Œæ˜“ä¸¾ã€‚
>   >
>   >  å…¶æ¬¡ï¼ŒJavaScriptè¯­è¨€æœ¬èº«æ˜¯å®Œå–„çš„å‡½æ•°å¼è¯­è¨€ï¼Œåœ¨å‰ç«¯å¼€å‘æ—¶ï¼Œå¼€å‘äººå‘˜å¾€å¾€å†™å¾—æ¯”è¾ƒéšæ„ï¼Œè®©äººæ„Ÿè§‰JavaScriptå°±æ˜¯ä¸ªâ€œç©å…·è¯­è¨€â€ã€‚ä½†æ˜¯ï¼Œåœ¨Nodeç¯å¢ƒä¸‹ï¼Œé€šè¿‡æ¨¡å—åŒ–çš„JavaScriptä»£ç ï¼ŒåŠ ä¸Šå‡½æ•°å¼ç¼–ç¨‹ï¼Œå¹¶ä¸”æ— éœ€è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œç›´æ¥ä½¿ç”¨æœ€æ–°çš„`ECMAScript 6`æ ‡å‡†ï¼Œå¯ä»¥å®Œå…¨æ»¡è¶³å·¥ç¨‹ä¸Šçš„éœ€æ±‚ã€‚

### 1.3ã€ä¸ºä»€ä¹ˆå­¦ä¹ `Node.js`

> - å‰ç«¯æ¡†æ¶`Vue`ï¼Œ`React`ï¼Œéƒ½æ˜¯å»ºç«‹åœ¨`Node.js`çš„åŸºç¡€ä¸Šå‘å±•èµ·æ¥çš„ã€‚ 
> - å‰ç«¯è‡ªåŠ¨åŒ–ã€æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·gulpã€`webpack`ä¹Ÿæ˜¯åŸºäº`Node.js`å¼€å‘å’Œä½¿ç”¨çš„ã€‚ 
> - å‰ç«¯å¼€å‘ä¸­å æ¯”æœ€å¤§çš„ç¼–è¾‘å™¨`VScode`ä¹Ÿæ˜¯åœ¨`Node.js`çš„åŸºç¡€ä¸Šå¼€å‘å‡ºæ¥çš„ã€‚
> - åœ¨å‰ç«¯æ‹›è˜ä¸­é€šå¸¸ä¼šå¯¹`Node.js`æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œç‰¹åˆ«å¯¹äºé«˜çº§å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæ›´æ˜¯å¿…ä¸å¯å°‘çš„æŠ€èƒ½ï¼š  
>
> <font color=red>å¯¹äºåç«¯å¼€å‘è€…æ¥è®²ï¼ŒNodeå¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œä½†æ˜¯å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è®²ï¼ŒNodeå¿…ç„¶æ˜¯è¿›é˜¶è·¯ä¸Šçš„é‡è¦ä¸€ç¯ã€‚ </font>

### 1.4ã€ç›¸å…³æ¦‚å¿µ

#### 1.4.1ã€åŒæ­¥å’Œå¼‚æ­¥

> - åˆ¤æ–­æ ‡å‡†ï¼šè°ƒç”¨è€…æ˜¯å¦ä¸»åŠ¨ç­‰å¾…è¢«è°ƒç”¨è€…çš„è¿”å›ç»“æœ
> - åŒæ­¥
>   - ç†è®ºè¯´æ˜ï¼šä»»åŠ¡Açš„æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨äº†ä»»åŠ¡Bã€‚ä»»åŠ¡Aå¯¹ä»»åŠ¡Bå‘èµ·è°ƒç”¨åï¼Œä¸»åŠ¨ç­‰å¾…è°ƒç”¨ç»“æœã€‚
>   - ç”Ÿæ´»ä¸¾ä¾‹ï¼šä½ å»ä¹¦åº—é—®è€æ¿ï¼Œæ˜¯å¦æœ‰ã€Šæ“ä½œç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œè€æ¿è¯´ï¼šç¨ç­‰ï¼Œæˆ‘æŸ¥ä¸€ä¸‹ã€‚ç„¶åå¼€å§‹æŸ¥å•ŠæŸ¥ï¼Œç­‰æŸ¥å¥½äº†ï¼Œå‘Šè¯‰ä½ ç»“æœï¼ˆä¸»åŠ¨ç­‰å¾…è¢«è°ƒç”¨æ–¹è¿”å›ç»“æœï¼‰ã€‚
> - å¼‚æ­¥
>   - ç†è®ºè¯´æ˜ï¼šä»»åŠ¡Açš„æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨äº†ä»»åŠ¡Bã€‚ä»»åŠ¡Aå¯¹ä»»åŠ¡Bå‘èµ·è°ƒç”¨åï¼Œç»§ç»­æ‰§è¡Œåç»­å·¥ä½œã€‚ä»»åŠ¡Bå®Œæˆåé€šè¿‡çŠ¶æ€ã€é€šçŸ¥æ¥é€šçŸ¥è°ƒç”¨è€…ã€‚
>   - ç”Ÿæ´»ä¸¾ä¾‹ï¼šä½ å»ä¹¦åº—é—®è€æ¿ï¼Œæ˜¯å¦æœ‰ã€Šæ“ä½œç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼ŒæŸ¥å¥½äº†æ‰“ç”µè¯ç»™ä½ ï¼Œç„¶åç›´æ¥æŒ‚ç”µè¯äº†ï¼ˆæ­¤æ—¶è¢«è°ƒç”¨æ–¹ä¸è¿”å›ç»“æœï¼‰ã€‚è¿‡äº†å‡ å¤©ï¼ŒæŸ¥å¥½äº†ï¼Œè€æ¿ä¸»åŠ¨æ‰“ç”µè¯ç»™ä½ ï¼ˆè¢«è°ƒç”¨æ–¹å›è°ƒè°ƒç”¨æ–¹ï¼Œå‘ŠçŸ¥ç»“æœï¼‰ã€‚

#### 1.4.2ã€é˜»å¡å’Œéé˜»å¡

> - åˆ¤æ–­æ ‡å‡†ï¼šè°ƒç”¨æ–¹åœ¨ç­‰å¾…è¢«è°ƒç”¨æ–¹çš„è¿”å›ç»“æœæ—¶ï¼Œæ˜¯å¦å¯ä»¥åšå…¶ä»–äº‹ï¼ˆæ˜¯å¦è¢«æŒ‚èµ·ï¼‰
> - é˜»å¡
>   - ç†è®ºè¯´æ˜ï¼šä»»åŠ¡Aå¯¹ä»»åŠ¡Bå‘èµ·è°ƒç”¨åï¼Œä»»åŠ¡Béœ€è¦æ‰§è¡Œä¸€æ®µæ—¶é—´æ‰å¯è¿”å›ç»“æœï¼Œä»»åŠ¡Aé€‰æ‹©ç­‰å¾…ä»»åŠ¡Bçš„è¿”å›ç»“æœï¼ˆæš‚æ—¶æŒ‚èµ·ï¼‰ã€‚
>   - ç”Ÿæ´»ä¸¾ä¾‹ï¼šä½ å»ä¹¦åº—é—®è€æ¿ï¼Œæ˜¯å¦æœ‰ã€Šæ“ä½œç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œä½ ä¼šä¸€ç›´æŠŠè‡ªå·±æŒ‚èµ·ï¼Œä»€ä¹ˆéƒ½ä¸å¹²ï¼Œä¸€ç›´åœ¨é‚£ç­‰ï¼Œç›´åˆ°å¾—åˆ°è¿”å›ç»“æœã€‚
> - éé˜»å¡
>   - ç†è®ºè¯´æ˜ï¼šä»»åŠ¡Aå¯¹ä»»åŠ¡Bå‘èµ·è°ƒç”¨åï¼Œä¸æ­¤åŒæ—¶ï¼Œä»»åŠ¡Aåœ¨ä»»åŠ¡Bæ‰§è¡Œçš„è¿‡ç¨‹ä¸­å»å®Œæˆåˆ«çš„å·¥ä½œï¼Œç­‰å¾…ä»»åŠ¡Bç»“æœè¿”å›åå†ç»§ç»­ï¼ˆä¸æŒ‚èµ·ï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œè‡ªå·±çš„ä»»åŠ¡ï¼‰ã€‚
>   - ç”Ÿæ´»ä¸¾ä¾‹ï¼šä½ å»ä¹¦åº—é—®è€æ¿ï¼Œæ˜¯å¦æœ‰ã€Šæ“ä½œç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œä¸ç®¡è€æ¿æœ‰æ²¡æœ‰å‘Šè¯‰ä½ ï¼Œä½ è‡ªå·±éƒ½å…ˆå»ç©äº†ï¼ˆç»§ç»­æ‰§è¡Œè‡ªå·±çš„ä»»åŠ¡è€Œä¸æ˜¯å¹²ç­‰ï¼‰ï¼Œä½†æ˜¯ä¹Ÿè¦å¶å°”ä¹Ÿè¦checkä¸€ä¸‹è€æ¿æ˜¯å¦æœ‰äº†ç»“æœã€‚

#### 1.4.3ã€åŒæ­¥å¼‚æ­¥é˜»å¡éé˜»å¡å°é˜…è¯»

> ```md
> éš”å£ç‹å¤§çˆ·ï¼ˆä¸æ˜¯éš”å£è€ç‹ï¼Œhhhhh~~ï¼‰æœ‰ä¸ªæ°´å£¶ï¼Œç‹å¤§çˆ·ç»å¸¸ç”¨å®ƒæ¥çƒ§å¼€æ°´ã€‚
> 
> 1.ç‹å¤§çˆ·æŠŠæ°´å£¶æ”¾åˆ°ç«ä¸Šçƒ§ï¼Œç„¶åå•¥ä¹Ÿä¸å¹²åœ¨é‚£ç­‰ï¼Œç›´åˆ°æ°´å¼€äº†ç‹å¤§çˆ·å†å»æåˆ«çš„äº‹æƒ…ã€‚???
> 2.ç‹å¤§çˆ·è§‰å¾—è‡ªå·±æœ‰ç‚¹æ†¨ï¼Œä¸æ‰“ç®—ç­‰äº†ã€‚æŠŠæ°´å£¶æ”¾ä¸Šå»ä¹‹åå¤§çˆ·å°±æ˜¯å»çœ‹ç”µè§†ï¼Œå¶å°”æ¥ç…ä¸€çœ¼æœ‰æ²¡æœ‰å¼€ã€‚ ???
> 3.ç‹å¤§çˆ·å»ä¹°äº†ä¸ªå“æ°´å£¶ï¼Œä»–æŠŠå“æ°´å£¶æ”¾åœ¨ç«ä¸Šï¼Œç„¶åä¹Ÿæ˜¯ç­‰ç€æ°´å¼€ï¼Œæ°´å¼€çš„æ—¶å€™æ°´å£¶ä¼šå‘å‡ºå£°å“ã€‚???
> 4.ç‹å¤§çˆ·åˆè§‰å¾—è‡ªå·±æœ‰ç‚¹æ†¨ï¼Œä»–æŠŠå“æ°´å£¶æ”¾åœ¨ç«ä¸Šç„¶åå»çœ‹ç”µè§†ï¼Œè¿™æ—¶ä»–ä¸ç”¨å¶å°”yæ¥ç…ä¸€çœ¼ï¼Œå› ä¸ºæ°´å¼€çš„æ—¶å€™æ°´å£¶ä¼šå‘å‡ºå£°éŸ³é€šçŸ¥å¤§çˆ·ã€‚???
> ```

### 1.5ã€`Node.js`æœ‰ä»€ä¹ˆç‰¹ç‚¹

#### 1.5.1ã€ ä¼˜ç‚¹

> - å¼‚æ­¥çš„éé˜»å¡çš„I/Oï¼ˆI/Oçº¿ç¨‹æ± ï¼‰
>
> - å¼‚æ­¥äº‹ä»¶é©±åŠ¨ 
>
> - å•çº¿ç¨‹ ï¼ˆè¿™é‡ŒæŒ‡ä¸»çº¿ç¨‹ï¼‰ 
>   - è·¨å¹³å°
>
> ![img](D:\BaiduNetdiskDownload\03é˜¶æ®µå¼ åŸ¹è·ƒ\3é˜¶æ®µjsé«˜çº§&jquery&pcé¡¹ç›®\Day19-node\è¯¾ä»¶\assets\007S8ZIlgy1ghiofsh7mdj319w0o274x.jpg)

#### 1.5.2ã€ç¼ºç‚¹

> - å›è°ƒå‡½æ•°åµŒå¥—å¤ªå¤šã€å¤ªæ·±ï¼ˆä¿—ç§°å›è°ƒåœ°ç‹±ï¼‰
>
> - å¯é æ€§ä½ï¼Œä¸€æ—¦ä»£ç æŸä¸ªç¯èŠ‚å´©æºƒï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½å´©æºƒ 
>
> - ä¸é€‚åˆCPUå¯†é›†å‹åº”ç”¨

### 1.6ã€åº”ç”¨åœºæ™¯

> * `APP` æ¥å£æœåŠ¡
> * ç½‘é¡µèŠå¤©å®¤ã€‚
> * åŠ¨æ€ç½‘ç«™, ä¸ªäººåšå®¢, è®ºå›, å•†åŸç­‰
> * åç«¯çš„WebæœåŠ¡ï¼Œä¾‹å¦‚æœåŠ¡å™¨ç«¯çš„è¯·æ±‚ï¼ˆçˆ¬è™«ï¼‰ï¼Œä»£ç†è¯·æ±‚ï¼ˆè·¨åŸŸï¼‰
>
> * å‰ç«¯é¡¹ç›®æ‰“åŒ…(`webpack`, gulp)
> * ä½œä¸ºä¸­é—´å±‚ä½¿ç”¨ã€‚

### 1.7ã€`Node.js`çš„å®‰è£…

> `Node.js` å®‰è£…åŒ…åŠæºç ä¸‹è½½åœ°å€ä¸ºï¼šhttps://nodejs.org/en/download/ã€‚ 
>
> ä½ å¯ä»¥æ ¹æ®ä¸åŒå¹³å°ç³»ç»Ÿé€‰æ‹©ä½ éœ€è¦çš„ `Node.js` å®‰è£…åŒ…ã€‚
>
> <span style="color:red">æˆ‘ä»¬é€‰æ‹© LTS ç‰ˆæœ¬ï¼ˆé•¿æœŸç»´æŠ¤ç‰ˆæœ¬ long term serviceï¼‰</span>
>
> `Node.js` å†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼šhttps://nodejs.org/zh-cn/download/releases/
>
> ![1572676490692](D:\BaiduNetdiskDownload\03é˜¶æ®µå¼ åŸ¹è·ƒ\3é˜¶æ®µjsé«˜çº§&jquery&pcé¡¹ç›®\Day19-node\è¯¾ä»¶\assets\1572676490692.png)
>
> åŒå‡»æ‰“å¼€å®‰è£…æ–‡ä»¶ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ğŸ˜ï¼Œé»˜è®¤çš„å®‰è£…è·¯å¾„æ˜¯ `C:\Program Files\nodejs`
>
> å®‰è£…å®Œæˆåï¼Œåœ¨ `CMD` å‘½ä»¤è¡Œçª—å£ä¸‹è¿è¡Œ `node -v`ï¼Œå¦‚æ˜¾ç¤ºç‰ˆæœ¬å·åˆ™è¯æ˜å®‰è£…æˆåŠŸï¼Œåä¹‹å®‰è£…å¤±è´¥ï¼Œé‡æ–°å®‰è£…ï¼š
>
> ![1606610487668](D:\BaiduNetdiskDownload\03é˜¶æ®µå¼ åŸ¹è·ƒ\3é˜¶æ®µjsé«˜çº§&jquery&pcé¡¹ç›®\Day19-node\è¯¾ä»¶\assets\1606610487668.png) 

### 1.8ã€åˆä½“éªŒ

> * äº¤äº’æ¨¡å¼
>
>   >  åœ¨å‘½ä»¤è¡Œä¸‹è¾“å…¥å‘½ä»¤ `node`ï¼Œè¿™æ—¶è¿›å…¥ nodejs çš„äº¤äº’æ¨¡å¼ï¼ˆç¯å¢ƒï¼‰

![1606610639327](D:\BaiduNetdiskDownload\03é˜¶æ®µå¼ åŸ¹è·ƒ\3é˜¶æ®µjsé«˜çº§&jquery&pcé¡¹ç›®\Day19-node\è¯¾ä»¶\assets\1606610639327.png)

> * æ–‡ä»¶æ‰§è¡Œ
>
>   > åˆ›å»ºæ–‡ä»¶ `hello.js` ï¼Œå¹¶å†™å…¥ä»£ç ` console.log('hello world')`ï¼Œå‘½ä»¤è¡Œè¿è¡Œ `node hello.js`
>   >
>   > ```shell
>   > node hello.js  # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„hello.js
>   > node code/hello.js # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„codeæ–‡ä»¶å¤¹ä¸‹çš„hello.js
>   > node hello # .æ‰©å±•åå¯ä»¥çœç•¥
>   > ```
>
>  >å¿«é€Ÿå¯åŠ¨å‘½ä»¤è¡Œçš„æ–¹æ³•
>  >
>  >* åœ¨æ–‡ä»¶å¤¹ä¸Šæ–¹çš„è·¯å¾„ä¸­ï¼Œç›´æ¥è¾“å…¥ `cmd` å³å¯
>  >* ä½¿ç”¨ `webstorm` å’Œ` vscode `è‡ªå¸¦çš„å‘½ä»¤è¡Œçª—å£
>
> ![1572680753835](D:\BaiduNetdiskDownload\03é˜¶æ®µå¼ åŸ¹è·ƒ\3é˜¶æ®µjsé«˜çº§&jquery&pcé¡¹ç›®\Day19-node\è¯¾ä»¶\assets\1572680753835.png)
>
> * `VScode` æ’ä»¶è¿è¡Œ
>
>   > å®‰è£…æ’ä»¶ ã€code Runnerã€, æ–‡ä»¶å³é”® -> run code
>
> ![1593782861500](E:/201130/èµ„æ–™/è¯¾ä»¶/assets/1593782861500.png)

### 1.9ã€global

> <span style="color:red">åœ¨ nodejs ç¯å¢ƒä¸‹ï¼Œä¸èƒ½ä½¿ç”¨ BOM å’Œ DOM ï¼Œä¹Ÿæ²¡æœ‰å…¨å±€å¯¹è±¡ windowï¼Œå…¨å±€å¯¹è±¡çš„åå­—å« global</span>
>
> ```js
> console.log(window);// window is not defined
> console.log(document);//  document is not defined
> ```
>
> - `Browser`ï¼ˆå…¨å±€å¯¹è±¡æ˜¯windowï¼‰ä¸­`js`çš„ç»„æˆï¼š å°†JSåµŒå…¥åœ¨htmlé¡µé¢ä¸­æ‰§è¡Œã€‚
>   - `DOM `--> document ç”¨æ¥æ“ä½œæ–‡æ¡£
>   - `BOM` --> window ç”¨æ¥æ“ä½œæµè§ˆå™¨ï¼ˆæ§åˆ¶æµè§ˆè®°å½•ã€è¯»å–æµè§ˆå™¨çš„ä¿¡æ¯...ï¼‰
>
> * `Nodejs`ï¼ˆå…¨å±€å¯¹è±¡æ˜¯Globalï¼‰ä¸­`js`çš„ç»„æˆï¼šå°†JSé€šè¿‡NODEå‘½ä»¤æ‰§è¡Œã€‚
>   * `DOM`(å®Œå…¨æ²¡æœ‰)
>   * `BOM`(å¹²æ‰äº†ç»å¤§éƒ¨åˆ†ï¼Œåªä¿ç•™å°‘éƒ¨åˆ†)
>     * `console.log`ã€`setInterval`ã€`setTimeout`ã€`clearInterval`ã€`clearTimeout`
>
> ```js
> console.log(global);
> /*
> è¾“å‡ºglobalçš„ç»“æœï¼š
> Object [global] {
>   global: [Circular],
>   clearInterval: [Function: clearInterval],
>   clearTimeout: [Function: clearTimeout],
>   setInterval: [Function: setInterval],
>   setTimeout: [Function: setTimeout] { [Symbol(util.promisify.custom)]: [Function] },
>   queueMicrotask: [Function: queueMicrotask],
>   clearImmediate: [Function: clearImmediate],
>   setImmediate: [Function: setImmediate] {
>     [Symbol(util.promisify.custom)]: [Function]
>   }
> }
> * */
> console.log(global.global.global === global);// true
> ```
>
> `queueMicrotask`:é€šè¿‡è¯¥å‡½æ•°å¯ä»¥åˆ›å»ºå¾®ä»»åŠ¡
>
> ```js
> {
>     // æ‰§è¡Œé¡ºåºï¼šå…ˆæ‰§è¡ŒåŒæ­¥ï¼Œå†æ‰§è¡Œå¼‚æ­¥å›è°ƒã€‚ï¼ˆå¼‚æ­¥å½“ä¸­å¾®ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œï¼‰
>     // 1 3 2
>     setTimeout(()=>{
>         console.log(2);
>     })
>     // é€šè¿‡è¯¥å‡½æ•°å¯ä»¥åˆ›å»ºå¾®ä»»åŠ¡å‡½æ•°ã€‚
>     queueMicrotask(()=>{
>         console.log(3);
>     })
>     console.log(1);
> }
> ```
>
> ```js
> {
> 
>     // queueMicrotask(()=>{console.log("å¾®ä»»åŠ¡")});
>     // let timer = setImmediate(()=>{console.log(2)});
>     // clearImmediate(timer);// æ¸…é™¤
>     // console.log(3);
> 
>     queueMicrotask(()=>{console.log("å¾®ä»»åŠ¡")});
>     setTimeout(()=>console.log("setTimeout"));
>     setImmediate(()=>{console.log("setImmediate")})
> }
> ```

## äºŒã€Buffer ç¼“å†²å™¨ï¼ˆäº†è§£ï¼‰

### 2.1ã€Bufferæ˜¯ä»€ä¹ˆ?

> Bufferæ˜¯ä¸€ä¸ªå’Œæ•°ç»„ç±»ä¼¼çš„å¯¹è±¡ï¼Œä¸åŒæ˜¯Bufferæ˜¯ä¸“é—¨ç”¨æ¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®çš„(æ•°æ®å‚¨å­˜ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œæ€§èƒ½æ˜¯æœ€å¥½çš„)ã€‚
>
> ``` js
> // äºŒè¿›åˆ¶
> console.log(12);// äºŒè¿›åˆ¶ä¸º1100
> // 12è½¬ä¸ºäºŒè¿›åˆ¶ã€‚ é™¤2å€’å–ä½™ã€‚
> /*
> * 12/2 = 6  ä½™ 0
> * 6/2= 3    ä½™ 0
> * 3/2 = 1   ä½™ 1
> * 1/2 = 0   ä½™ 1
> * */
> 
> // 1100 è½¬ä¸º10è¿›åˆ¶
> // 1*2çš„3æ¬¡æ–¹+1*2çš„2æ¬¡æ–¹ = 8 + 4 = 12
> ```

### 2.2ã€Bufferç‰¹ç‚¹

> 1. å¤§å°å›ºå®šï¼šåœ¨åˆ›å»ºæ—¶å°±ç¡®å®šäº†ï¼Œä¸”æ— æ³•è°ƒæ•´
> 2. æ€§èƒ½è¾ƒå¥½ï¼šç›´æ¥å¯¹è®¡ç®—æœºçš„å†…å­˜è¿›è¡Œæ“ä½œ
> 3. æ¯ä¸ªå…ƒç´ å¤§å°ä¸º1å­—èŠ‚.

### 2.3ã€Bufferçš„åˆ›å»º

> - `Buffer.alloc(size,[fill])ï¼š` è¿”å›ä¸€ä¸ªæŒ‡å®šå¤§å°çš„ Buffer å®ä¾‹ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® fillï¼Œåˆ™é»˜è®¤å¡«æ»¡ 0
>
>   ```js
>   // 1ã€alloc  åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªBufferï¼Œåˆå§‹å€¼ä¸º0
>   const b1 = Buffer.alloc(10);
>   console.log(b1);// <Buffer 00 00 00 00 00 00 00 00 00 00>
>   
>   // 2ã€allc åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªBufferï¼Œç”¨61æ·»å……ã€‚61æ˜¯åå…­è¿›åˆ¶
>   const b2 = Buffer.alloc(5,"a");
>   console.log(b2);// <Buffer 61 61 61 61 61>
>   ```
>
> - `Buffer.allocUnsafe(size)ï¼š` è¿”å›ä¸€ä¸ªæŒ‡å®šå¤§å°çš„ Buffer å®ä¾‹ï¼Œä½†æ˜¯å®ƒä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥å®ƒå¯èƒ½åŒ…å«æ•æ„Ÿçš„æ•°æ®
>
>   ```js
>   // allocä¼šåœ¨å†…å­˜ä¸­æ‰¾ä¸€å—ç©ºé—´ï¼Œå¹¶å°†è¯¥ç©ºé—´æ¸…ç©ºã€‚è€ŒallocUnsafeä¼šæ‰¾ä¸€å—ç©ºé—´ï¼Œä½†ä¸ä¼šå°†è¯¥ç©ºé—´çš„å†…å®¹æ¸…ç©ºã€‚
>   const b3 = Buffer.allocUnsafe(10);
>   console.log(b3);
>   ```
>
> - `Buffer.from(string)ï¼š` è¿”å›ä¸€ä¸ªè¢« string çš„å€¼åˆå§‹åŒ–çš„æ–°çš„ Buffer å®ä¾‹
>
>   ```js
>   // å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºBuffer
>   let str = "iloveyou";
>   console.log(Buffer.from(str));// <Buffer 69 6c 6f 76 65 79 6f 75>
>   ```

### 2.4ã€Bufferçš„ä½¿ç”¨

> ```js
> let buf = Buffer.alloc(10);
> // è¿”å›çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä½œç”¨ï¼šéªŒè¯æ˜¯å¦ä¸ºBuffer
> console.log(Buffer.isBuffer(buf));// true
> console.log(Buffer.isBuffer(1));// false
> 
> // æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ç”¨16è¿›åˆ¶è¡¨ç¤ºï¼Œæœ€é«˜ä¸ºff,å¦‚æœè¶…å‡ºäº†ï¼Œèˆå¼ƒé«˜ä½
> // ç¬¬äºŒä¸ªå‚æ•°å¦‚æœä¸ºæ•°å­—ï¼Œä¼šå°†æ•°å­—è½¬ä¸º16è¿›åˆ¶ï¼Œä½œä¸ºå…¶å…ƒç´ 
> let buf = Buffer.alloc(10,256);
> console.log(buf);
> 
> // ä¸­æ–‡ä¼šå ç”¨3ä¸ªå…ƒç´ 
> let buf = Buffer.from("ä¸­")
> console.log(buf)
> 
> 
> let buf = Buffer.from("abcdefg");
> console.log(buf);
> console.log(buf[0]);// å°†bufå½“ä¸­ä¸‹æ ‡ä¸º0çš„å…ƒç´ è¿›è¡Œè¾“å‡ºï¼ˆè½¬ä¸ºåè¿›åˆ¶ï¼‰
> console.log(buf.toString());// abcdefg å°†bufferè½¬ä¸ºå­—ç¬¦ä¸²
> // buffer å¯ä»¥éå†è¾“å‡º
> buf.forEach(function (item) {
>  console.log(item);
> })
> ```

### 2.5ã€å…³äºå•ä½æ¢ç®—

> `1Bit` å¯¹åº”çš„æ˜¯ 1 ä¸ªäºŒè¿›åˆ¶ä½
>
> 8 Bit = 1 å­—èŠ‚ï¼ˆByteï¼‰
>
> `1024Byte` = `1KB `
>
> `1024KB` = `1MB`
>
> `1024MB` = `1GB`
>
> `1024GB` = `1TB`
>
> å¹³æ—¶æ‰€è¯´çš„ç½‘é€Ÿ `10M 20M 100M` è¿™é‡ŒæŒ‡çš„æ˜¯ Bit ï¼Œæ‰€ä»¥ç†è®ºä¸‹è½½é€Ÿåº¦ é™¤ä»¥ 8 æ‰æ˜¯æ­£å¸¸çš„ç†è§£çš„ä¸‹è½½é€Ÿåº¦

## ä¸‰ã€nodeçš„å†…ç½®å¸¸é‡``__dirname``å’Œ``__filename``

>å†…ç½®çš„æ„æ€å°±æ˜¯ä¸éœ€è¦é¢å¤–å»å®šä¹‰å®ƒ
>
>* `__dirname`ï¼šå½“å‰æ–‡ä»¶ï¼ˆä½ ç”¨nodeè¿è¡Œçš„æ–‡ä»¶ï¼‰æ‰€åœ¨çš„**æ–‡ä»¶å¤¹åœ°å€**
>
>  ```js
>  console.log(__dirname);// D:\210415\Lession19\code
>  ```
>
>* `_filename`ï¼šå½“å‰æ–‡ä»¶çš„**å®Œæ•´åœ°å€**ï¼ˆç²¾ç¡®åˆ°ä½ æ‰€è¿è¡Œçš„é‚£ä¸ª`j`sæ–‡ä»¶ï¼‰
>
>  ```js
>  console.log(__filename);// D:\210415\Lession19\code\9-å†…ç½®å¸¸é‡.js
>  ```

## å››ã€å†…ç½®æ¨¡å—

```shell
# æ¨¡å—ï¼šåœ¨NOde.js æ¯ä¸€ä¸ªJSæ–‡ä»¶å³æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚å†…ç½®æ¨¡å—ï¼šNodeæä¾›çš„æ¨¡å—ã€‚
# æ¨¡å—åˆ†ä¸ºä¸‰ç±»ï¼š1ã€å†…ç½®æ¨¡å—  2ã€è‡ªå®šä¹‰æ¨¡å— 3ã€ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚  
```

### 4.1 ã€path

>  path æ¨¡å—æä¾›äº†ä¸€äº›ç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„çš„å°å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼•å…¥è¯¥æ¨¡å—ï¼š 
>
>  ```js
>  const path = require('path');
>  ```
>
>  å¸¸ç”¨æ–¹æ³•ï¼š
>
>  * `path.join([path1][, path2][, ...]) `: ç”¨äºè¿æ¥è·¯å¾„ã€‚è¯¥æ–¹æ³•çš„ä¸»è¦ç”¨é€”åœ¨äºï¼Œä¼šæ­£ç¡®ä½¿ç”¨å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ï¼ŒUnixç³»ç»Ÿæ˜¯"`/`"ï¼ŒWindowsç³»ç»Ÿæ˜¯"`\`"ã€‚ 
>
>    ```js
>    console.log(path.join("../a/b"));//          ..\a\b
>    console.log(path.join("../a/b","./c"));//    ..\a\b\c
>    console.log(path.join("../a/b","../c"));//   ..\a\c
>    console.log(path.join("../a/b","c"));//      ..\a\b\c
>    console.log(path.join("../a/b","/c"));//     ..\a\b\c
>    console.log(path.join("../a/b","c","d"));//  ..\a\b\c\d
>    ```
>
>  * `path.isAbsolute(path)`: åˆ¤æ–­å‚æ•° **path** æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„ã€‚
>
>    ```js
>    console.log(path.isAbsolute("./a"));// false
>    console.log(path.isAbsolute("../a"));// false
>    console.log(path.isAbsolute("../a/b"));// false
>    console.log(path.isAbsolute("/a"));// true
>    console.log(path.isAbsolute("d:/a"));// true
>    console.log(path.isAbsolute("c:/a"));// true
>    ```
>
>  * `path.dirname(p)`ï¼šè¿”å›è·¯å¾„ä¸­ä»£è¡¨æ–‡ä»¶å¤¹çš„éƒ¨åˆ† 
>
>    ```js
>    console.log(__dirname);// D:\210415\Lession19\code
>    console.log(__filename);// D:\210415\Lession19\code\10-path.js
>    console.log(path.dirname("/a/b"));// /a
>    console.log(path.dirname(__dirname));// D:\210415\Lession19
>    console.log(path.dirname("D:/210415/Lession19/code"));// D:/210415/Lession19
>    console.log(path.dirname(__filename));// D:\210415\Lession19\code\
>    console.log(path.dirname("../a"));// ..
>    console.log(path.dirname("../a/b/c"));// ../a/b
>    ```
>
>  * `path.basename(p[, ext])`ï¼šè¿”å›è·¯å¾„ä¸­çš„æœ€åä¸€éƒ¨åˆ†ã€‚ 
>
>    ```js
>    console.log(__dirname);// D:\210415\Lession19\code
>    console.log(__filename);// D:\210415\Lession19\code\10-path.js
>    console.log(path.basename(__dirname));// code
>    console.log(path.basename(__filename));// 10-path.js
>    console.log(path.basename("../a/b/c"));// c
>    ```
>
>  * `path.extname(p)`ï¼šè¿”å›è·¯å¾„ä¸­æ–‡ä»¶çš„åç¼€åã€‚
>
>    ```js
>    let str = "./a/b/c.txt";
>    console.log(path.extname(str));// .txt
>    console.log(path.extname("my.png"));// .png
>    console.log(path.extname(__filename));// .js
>    console.log(path.extname(__dirname));
>    ```
>
>  * `path.resolve()`ï¼š  å°†è·¯å¾„æˆ–è€…è·¯å¾„ç‰‡æ®µåºåˆ—åŒ–ä¸ºç»å¯¹è·¯å¾„ 
>
>    ```js
>    console.log(__dirname);// D:\210415\Lession19\code
>    console.log(path.resolve("./"));// D:\210415\Lession19\code
>    console.log(path.resolve("/"));// D:\
>    console.log(path.resolve("../"));// D:\210415\Lession19
>    console.log(path.resolve("./a"));// D:\210415\Lession19\code\a
>    console.log(path.resolve("./a","./b"));//D:\210415\Lession19\code\a\b
>    console.log(path.resolve("./a","./b","./c"));//D:\210415\Lession19\code\a\b\c
>    console.log(path.resolve("./a","./b","./c","../d"));//D:\210415\Lession19\code\a\b\d
>    console.log(path.resolve("/code","/a/b/c","../","./c"));// D:\a\b\c
>    ```
>
>    æ³¨æ„ï¼š
>
>    ```js
>    // 1-å½“å‰JSåœ°å€
>    // console.log(__dirname);// å½“å‰JSæ‰€åœ¨çš„ç›®å½•
>    // 2-nodeè¿è¡Œç¯å¢ƒåœ°å€:D:\210415\Lession19\code
>    // D:\210415\Lession19\code>node 11-é‡è¦æ¦‚å¿µ.js
>        
>    // 1ã€å½“å‰JSæ‰€åœ¨çš„ç›®å½•ä¸NODEè¿è¡Œç¯å¢ƒåœ°å€æ— å…³
>    // console.log(__dirname);//D:\210415\Lession19\code
>        
>    // 2ã€å¦‚æœæˆ‘ä½¿ç”¨path.resolve, resolveå½“ä¸­ç›¸å¯¹çš„æ˜¯nodeè¿è¡Œç¯å¢ƒåœ°å€ã€‚
>    // const path = require("path");
>    // æ‰§è¡Œï¼š D:\210415\Lession19\code>node 11-é‡è¦æ¦‚å¿µ.js
>    // console.log(path.resolve("./"));// D:\210415\Lession19\code
>    // æ‰§è¡Œï¼šD:\210415\Lession19>node code/11-é‡è¦æ¦‚å¿µ.js
>    // console.log(path.resolve("./"));// D:\210415\Lession19
>        
>    // 3ã€å¦‚æœä¸ç®¡ä½ çš„nodeè¿è¡Œåœ°å€æ˜¯ä»€ä¹ˆï¼Œéƒ½è¦è¾“å‡ºä¸€æ ·çš„å†…å®¹ã€‚ï¼ˆç›¸å¯¹çš„åœ°å€éƒ½æ›´æ”¹ä¸ºå½“å‰JSæ‰€åœ¨çš„ç›®å½•ï¼‰
>    const path = require("path");
>    console.log(path.resolve(__dirname,"./"));// D:\210415\Lession19\code
>    ```

### 4.2ã€`fs`æ–‡ä»¶ç³»ç»Ÿ(å†…ç½®æ¨¡å—)

> åœ¨ `NodeJS` ä¸­ï¼Œæ‰€æœ‰ä¸æ–‡ä»¶æ“ä½œéƒ½æ˜¯é€šè¿‡ `fs` æ ¸å¿ƒæ¨¡å—æ¥å®ç°çš„ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç›®å½•çš„åˆ›å»ºã€åˆ é™¤ã€æŸ¥è¯¢ä»¥åŠæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥ï¼Œåœ¨ `fs` æ¨¡å—ä¸­ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å®ç°ï¼Œå…·æœ‰ `sync` åç¼€çš„æ–¹æ³•ä¸ºåŒæ­¥æ–¹æ³•ï¼Œä¸å…·æœ‰ `sync` åç¼€çš„æ–¹æ³•ä¸ºå¼‚æ­¥æ–¹æ³• ã€‚

#### 4.2.1ã€æ–‡ä»¶è¯»å–

> * åŒæ­¥è¯»å–æ–¹æ³• `readFileSync(path[, options])`
>
>   > `readFileSync` æœ‰ä¸¤ä¸ªå‚æ•°ï¼š
>   >
>   > * ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¯»å–æ–‡ä»¶çš„è·¯å¾„æˆ–æ–‡ä»¶æè¿°ç¬¦ï¼›
>   > * ç¬¬äºŒä¸ªå‚æ•°ä¸º encodingï¼ˆç¼–ç ï¼Œé»˜è®¤ä¸º null);
>
> >```js
> >const fs = require("fs");
> >const path = require("path");
> >// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åœ°å€,ç›¸å¯¹çš„æ˜¯NODEè¿è¡Œç¯å¢ƒåœ°å€ã€‚
> >// è¯»å–å½“å‰ç›®å½•ä¸‹çš„test.html
> >// const result = fs.readFileSync(__dirname+"/test.html");
> >// console.log(result.toString());
> >
> >// è¯»å–çš„æ˜¯å½“å‰ç›®å½•ä¸‹æŸä¸ªæ–‡ä»¶å¤¹çš„test.html
> >// const result = fs.readFileSync(__dirname+"/data/test.html");
> >// console.log(result.toString());
> >
> >// è¯»å–çš„æ˜¯ä¸Šä¸€çº§ç›®å½•ä¸‹çš„test.html
> >// const result = fs.readFileSync(path.resolve(__dirname,"../test.html"));
> >// console.log(result.toString());
> >// console.log(path.resolve(__dirname,"../test.html"));
> >
> >// å¦‚æœè¯»å–ä¹‹åçš„ç»“æœçœç•¥.toString(),é‚£ä¹ˆè¾“å‡ºçš„ä¸ºbuffer
> >// const result = fs.readFileSync(path.resolve(__dirname,"../test.html"));
> >// console.log(result);
> >
> >// å¦‚æœè¯»å–ä¹‹åçš„ç»“æœçœç•¥.toString()ï¼Œè¾“å‡ºçš„ç»“æœä¸æƒ³ä¸ºbuffer,å°†ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸ºutf-8
> >// bufferæŒ‡çš„æ˜¯æ•°æ®è¿˜æœªæ‹¥æœ‰æ ¼å¼ã€‚toString()å¯ä»¥è®©å…¶å­—ç¬¦ä¸²ã€‚
> >const result = fs.readFileSync(path.resolve(__dirname,"../test.html"),"utf-8");
> >console.log(result);
> >```
>
> * å¼‚æ­¥è¯»å–æ–¹æ³• `readFile(path[, options])`
>
>   > å¼‚æ­¥è¯»å–æ–¹æ³• `readFile` ä¸ `readFileSync` çš„å‰ä¸¤ä¸ªå‚æ•°ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå‡½æ•°å†…æœ‰ä¸¤ä¸ªå‚æ•° `err`ï¼ˆé”™è¯¯ï¼‰å’Œ `data`ï¼ˆæ•°æ®ï¼‰ï¼Œè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œå›è°ƒå‡½æ•°åœ¨è¯»å–æ–‡ä»¶æˆåŠŸåæ‰§è¡Œã€‚ 
>
>   ```js
>   const fs = require("fs");
>   // 1 åˆ¤æ–­å¼‚å¸¸
>   // fs.readFile(__dirname+"/test.html",function (err,result) {
>   //     // console.log(err);// null ä»£è¡¨æ­£å¸¸
>   //     // åˆ¤æ–­æ˜¯å¦æœ‰å¼‚å¸¸
>   //     if(err){// æœ‰å¼‚å¸¸è¾“å‡ºå¼‚å¸¸ä¿¡æ¯
>   //         console.log("æœ‰å¼‚å¸¸",err)
>   //     }else {// æ— å¼‚å¸¸è¾“å‡ºç»“æœ
>   //         console.log(result.toString());
>   //     }
>   // })
>   
>   // 2 åˆ¤æ–­å¼‚å¸¸2
>   // fs.readFile(__dirname+"/test.html",function (err,result) {
>   //     if(!err){
>   //         // æ­£å¸¸
>   //         console.log(result.toString())
>   //     }else{
>   //         console.log(err);
>   //     }
>   // })
>   
>   // 3ã€çœç•¥toString,å¯ä»¥è®¾ç½®ç¬¬äºŒå‚æ•°ä¸ºutf-8 æˆ–utf8
>   fs.readFile(__dirname+"/test.html","utf-8",function (err,result) {
>       if(!err){
>           // æ­£å¸¸
>           console.log(result)
>       }else{
>           console.log(err);
>       }
>   })
>   ```
>
> * æµå¼è¯»å– `fs.createReadStream(path[, options])`
>
>   ```js
>   // æµå¼è¯»å– `fs.createReadStream(path[, options])`
>       
>   const fs = require("fs");
>   const rs = fs.createReadStream(__dirname+"/one.mp4");
>   // on ä»£è¡¨è¿½è¸ªæµæ‰§è¡Œçš„çŠ¶æ€ã€‚
>   rs.on("error",function (err) {
>       console.log("å½“è¯»å–å¼‚å¸¸æ—¶",err);
>   })
>   rs.on("open",function () {
>       console.log("å½“æ–‡ä»¶æ‰“å¼€æ—¶")
>   })
>   rs.on("ready",function () {
>       console.log("å‡†å¤‡å·¥ä½œå®Œæˆ")
>   })
>   let str = "";
>   rs.on("data",function (chunk) {
>       // æ¯æ¬¡64k
>       str+=chunk
>       console.log("å¼€å§‹æ‹¿æ•°æ®",chunk.length)
>   })
>   rs.on("end",function () {
>       console.log("è·å–æ•°æ®å®Œæ¯•",str.length)
>   })
>   rs.on("close",function () {
>       console.log("å…³é—­æ“ä½œæ–‡ä»¶")
>   })
>   ```
>
> 

#### 4.2.2ã€æ–‡ä»¶å†™å…¥

> * åŒæ­¥å†™å…¥æ–¹æ³• `writeFileSync(path[, options])`
>
>   > `writeFileSync` æœ‰ä¸‰ä¸ªå‚æ•°ï¼š
>   >
>   > ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå†™å…¥æ–‡ä»¶çš„è·¯å¾„æˆ–æ–‡ä»¶æè¿°ç¬¦ï¼›
>   > ç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ•°æ®ï¼Œç±»å‹ä¸º String æˆ– Bufferï¼›
>   > ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º optionsï¼Œé»˜è®¤å€¼ä¸º nullï¼Œå…¶ä¸­æœ‰ encodingï¼ˆç¼–ç ï¼Œé»˜è®¤ä¸º `utf8`ï¼‰ã€ flagï¼ˆæ ‡è¯†ä½ï¼Œé»˜è®¤ä¸º wï¼‰ä¹Ÿå¯ç›´æ¥ä¼ å…¥ encodingã€‚
>
> >```js
> >const fs = require("fs");
> >// 1ã€åœ¨æŒ‡å®šçš„æ–‡ä»¶å†…å†™å…¥å†…å®¹ã€‚å¦‚æœæŒ‡å®šçš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚
> >// fs.writeFileSync(__dirname+"/a.txt","ä½ å¥½");
> >
> >// 2ã€å¦‚æœæŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œä¼šæŠ¥å¼‚å¸¸ã€‚
> >// fs.writeFileSync(__dirname+"/a/b/c.txt","ä½ è¿˜å¥½å—ï¼Ÿ")
> >
> >// 3ã€å†™å…¥çš„å†…å®¹é»˜è®¤ä¼šå°†ä¹‹å‰çš„è¦†ç›–æ‰ã€‚
> >// fs.writeFileSync(__dirname+"/a/b/c.txt","ä½ è¿˜å¥½å—ï¼Ÿ1");
> >
> >// 4ã€å¯ä»¥è¿½åŠ å†…å®¹
> >fs.writeFileSync(__dirname+"/a/b/c.txt","ä½ è¿˜å¥½å—ï¼Ÿ1",{flag:"a"});
> >```
>
> * å¼‚æ­¥å†™å…¥æ–¹æ³• `writeFile(path[, options])`
>
>   > å¼‚æ­¥å†™å…¥æ–¹æ³• `writeFile` ä¸ `writeFileSync` çš„å‰ä¸‰ä¸ªå‚æ•°ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå‡½æ•°å†…æœ‰ä¸€ä¸ªå‚æ•° `err`ï¼ˆé”™è¯¯ï¼‰ï¼Œå›è°ƒå‡½æ•°åœ¨æ–‡ä»¶å†™å…¥æ•°æ®æˆåŠŸåæ‰§è¡Œã€‚ 
>   >
>   > ```js
>   > const fs = require("fs");
>   > // 1ã€å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºã€‚å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ä¼šæŠ¥é”™ã€‚
>   > // fs.writeFile(__dirname+"/b.txt","æˆ‘çˆ±ä½ ä¸­å›½ï¼Œæˆ‘äº²çˆ±çš„æ¯äº²ï¼Œæˆ‘ä¸ºä½ æµæ³ªï¼Œä¹Ÿä¸ºä½ è‡ªè±ª",function (err) {
>   > //     console.log(err);
>   > // })
>   > 
>   > // 2ã€è¿½åŠ å†…å®¹
>   > // fs.writeFile(__dirname+"/b.txt","æˆ‘çˆ±ä½ ä¸­å›½ï¼Œæˆ‘äº²çˆ±çš„æ¯äº²ï¼Œæˆ‘ä¸ºä½ æµæ³ªï¼Œä¹Ÿä¸ºä½ è‡ªè±ª",{flag:"a"},function (err) {
>   > //     console.log(err);
>   > // })
>   > 
>   > // 3ã€æ³¨æ„ï¼šä¸ç®¡æ˜¯åŒæ­¥å†™å…¥è¿˜æ˜¯å¼‚æ­¥å†™å…¥ã€‚å†…å®¹åªèƒ½æ˜¯Bufferæˆ–å­—ç¬¦ä¸²
>   > fs.writeFile(__dirname+"/b.txt",{a:1,b:2},{flag:"a"},function (err) {
>   >  console.log(err);
>   > })
>   > console.log(11111111);
>   > ```
>
> * æµå¼å†™å…¥`fs.createWriteStream(path[, options])`
>
>   ```js
>   const fs = require("fs");
>   const ws = fs.createWriteStream(__dirname+"/a.txt");
>   ws.on("open",function () {
>       console.log("æ‰“å¼€å†™å…¥çš„æ–‡ä»¶ ")
>   })
>   ws.on("close",function () {
>       console.log("å…³é—­")
>   })
>   ws.write("ä½ è¿˜å¥½å—");
>   ws.write("ä½ è¿˜å¥½å—");
>   ws.close();// å…³é—­æ–‡ä»¶
>   ```

#### 4.2.3ã€æµå¼è¯»å†™æ“ä½œ

```js
const fs = require("fs");
// éæµå¼è¯»å†™
// fs.readFile(__dirname+"/b.txt",function (err,result) {
//     fs.writeFile(__dirname+"/two.txt",result,function (err) {
//         if(!err) console.log("å†™å…¥æˆåŠŸ");
//         else console.log("å†™å…¥å¤±è´¥")
//     })
// })

// æµå¼è¯»å†™1
// const rs = fs.createReadStream(__dirname+"/one.mp4");
// const ws = fs.createWriteStream(__dirname+"/two.mp4");
// rs.on("data",function (thunk) {
//     ws.write(thunk);
// })
// rs.on("end",function () {
//     console.log("å®Œæˆ")
// })

// æµå¼è¯»å†™2
const rs = fs.createReadStream(__dirname+"/one.mp4");
const ws = fs.createWriteStream(__dirname+"/three.mp4");
rs.pipe(ws);
```

#### 4.2.4ã€æ–‡ä»¶ç§»åŠ¨+é‡å‘½å

```js
const fs = require("fs");
// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ“ä½œçš„æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ“ä½œåçš„æ–‡ä»¶
// å°†æ–‡ä»¶a.txt é‡å‘½åä¸ºaaaaa.txt
// fs.renameSync(__dirname+"/a.txt",__dirname+"/aaaaa.txt");

// å°†å½“å‰ç›®å½•ä¸‹çš„aaaaa.txtç§»åŠ¨åˆ°/a/my.txt
// fs.renameSync(__dirname+"/aaaaa.txt",__dirname+"/a/my.txt");

// å¼‚æ­¥
fs.rename(__dirname+"/b.txt",__dirname+"/d.txt",function (err) {
    console.log(err);
})
```

#### 4.2.5ã€åˆ é™¤æ–‡ä»¶

```js
const fs = require("fs");
// åŒæ­¥åˆ é™¤
// fs.unlinkSync(__dirname+"/d.txt");
// å¼‚æ­¥åˆ é™¤
fs.unlink(__dirname+"/three.txt",function (err) {
    console.log(err);
})
```
